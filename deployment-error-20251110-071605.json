{
  "Error": "EF Core migration failed with exit code 1",
  "StackTrace": "at Deploy-EFCoreMigrations, D:\\Repositories\\Hartonomous\\scripts\\deploy-database-unified.ps1: line 441\r\nat <ScriptBlock>, D:\\Repositories\\Hartonomous\\scripts\\deploy-database-unified.ps1: line 752\r\nat <ScriptBlock>, <No file>: line 1",
  "Log": [
    {
      "Message": "=== PHASE 0: Environment Initialization ===",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "Connected to SQL Server  ()",
      "Level": "Success",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "Edition: ",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "=== PHASE 1: Database Prerequisites ===",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "Creating database 'Hartonomous'...",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "Database 'Hartonomous' created successfully",
      "Level": "Success",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "All schemas created/verified",
      "Level": "Success",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "=== PHASE 2: EF Core Migrations ===",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:01"
    },
    {
      "Message": "Using dotnet ef: Entity Framework Core .NET Command-line Tools 10.0.0-rc.2.25502.107",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:02"
    },
    {
      "Message": "Applying EF Core migrations to database...",
      "Level": "Info",
      "Timestamp": "2025-11-10 07:16:02"
    },
    {
      "Message": "EF migration output: Using project 'D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj'. Using startup project 'D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj'. dotnet msbuild /getProperty:ProjectName /getProperty:AssemblyName /getProperty:DesignAssembly /getProperty:Language /getProperty:OutputPath /getProperty:PlatformTarget /getProperty:ProjectAssetsFile /getProperty:ProjectDir /getProperty:RootNamespace /getProperty:RuntimeFrameworkVersion /getProperty:TargetFileName /getProperty:TargetFrameworkMoniker /getProperty:Nullable /getProperty:TargetFramework /getProperty:TargetPlatformIdentifier /getProperty:Platform /t:ResolvePackageAssets /getItem:RuntimeCopyLocalItems D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj dotnet msbuild /getProperty:ProjectName /getProperty:AssemblyName /getProperty:DesignAssembly /getProperty:Language /getProperty:OutputPath /getProperty:PlatformTarget /getProperty:ProjectAssetsFile /getProperty:ProjectDir /getProperty:RootNamespace /getProperty:RuntimeFrameworkVersion /getProperty:TargetFileName /getProperty:TargetFrameworkMoniker /getProperty:Nullable /getProperty:TargetFramework /getProperty:TargetPlatformIdentifier /getProperty:Platform /t:ResolvePackageAssets /getItem:RuntimeCopyLocalItems D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj Build started... dotnet build D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj /verbosity:quiet /nologo /p:PublishAot=false  Build succeeded.     0 Warning(s)     0 Error(s)  Time Elapsed 00:00:01.07  Build succeeded. dotnet exec --depsfile D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\bin\\Debug\\net10.0\\Hartonomous.Data.deps.json --additionalprobingpath C:\\Users\\ahart\\.nuget\\packages --runtimeconfig D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\bin\\Debug\\net10.0\\Hartonomous.Data.runtimeconfig.json C:\\Users\\ahart\\.dotnet\\tools\\.store\\dotnet-ef\\10.0.0-rc.2.25502.107\\dotnet-ef\\10.0.0-rc.2.25502.107\\tools\\net10.0\\any\\tools\\net10.0\\any\\ef.dll database update --assembly D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\bin\\Debug\\net10.0\\Hartonomous.Data.dll --project D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj --startup-assembly D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\bin\\Debug\\net10.0\\Hartonomous.Data.dll --startup-project D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\Hartonomous.Data.csproj --project-dir D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\ --root-namespace Hartonomous.Data --language C# --framework net10.0 --design-assembly C:\\Users\\ahart\\.nuget\\packages\\microsoft.entityframeworkcore.design\\10.0.0-rc.2.25502.107\\lib\\net10.0\\Microsoft.EntityFrameworkCore.Design.dll --nullable --working-dir D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data --verbose Using assembly 'Hartonomous.Data'. Using startup assembly 'Hartonomous.Data'. Using application base 'D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\bin\\Debug\\net10.0'. Using working directory 'D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data'. Using root namespace 'Hartonomous.Data'. Using project directory 'D:\\Repositories\\Hartonomous\\src\\Hartonomous.Data\\'. Remaining arguments: . Finding DbContext classes... Using environment 'Development'. Finding IDesignTimeDbContextFactory implementations... Found IDesignTimeDbContextFactory implementation 'HartonomousDbContextFactory'. Found DbContext 'HartonomousDbContext'. Finding DbContext classes in the project... Using DbContext factory 'HartonomousDbContextFactory'. Using context 'HartonomousDbContext'. Finding design-time services referenced by assembly 'Hartonomous.Data'... Finding design-time services referenced by assembly 'Hartonomous.Data'... Using design-time services from assembly 'Microsoft.EntityFrameworkCore.SqlServer.NetTopologySuite'. Finding design-time services for provider 'Microsoft.EntityFrameworkCore.SqlServer'... Using design-time services from provider 'Microsoft.EntityFrameworkCore.SqlServer'. Finding IDesignTimeServices implementations in assembly 'Hartonomous.Data'... No design-time services were found. Creating DbConnection. Created DbConnection. (11ms). Migrating using database 'Hartonomous' on server 'localhost'. Opening connection to database 'Hartonomous' on server 'localhost'. Opened connection to database 'Hartonomous' on server 'localhost'. Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (1ms). Initialized DbCommand for 'ExecuteNonQuery' (3ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT 1 Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT 1 Closing connection to database 'Hartonomous' on server 'localhost'. Closed connection to database 'Hartonomous' on server 'localhost' (1ms). Opening connection to database 'Hartonomous' on server 'localhost'. Opened connection to database 'Hartonomous' on server 'localhost'. Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long. Creating DbCommand for 'ExecuteScalar'. Created DbCommand for 'ExecuteScalar' (0ms). Initialized DbCommand for 'ExecuteScalar' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] DECLARE @result int; EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive'; SELECT @result Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] DECLARE @result int; EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive'; SELECT @result Beginning transaction with isolation level 'Unspecified'. Began transaction with isolation level 'ReadCommitted'. Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL BEGIN     CREATE TABLE [__EFMigrationsHistory] (         [MigrationId] nvarchar(150) NOT NULL,         [ProductVersion] nvarchar(32) NOT NULL,         CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])     ); END; Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL BEGIN     CREATE TABLE [__EFMigrationsHistory] (         [MigrationId] nvarchar(150) NOT NULL,         [ProductVersion] nvarchar(32) NOT NULL,         CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])     ); END; Committing transaction. Committed transaction. Disposing transaction. Beginning transaction with isolation level 'Unspecified'. Began transaction with isolation level 'ReadCommitted'. Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT 1 Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT 1 Creating DbCommand for 'ExecuteScalar'. Created DbCommand for 'ExecuteScalar' (0ms). Initialized DbCommand for 'ExecuteScalar' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); Creating DbCommand for 'ExecuteReader'. Created DbCommand for 'ExecuteReader' (0ms). Initialized DbCommand for 'ExecuteReader' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT [MigrationId], [ProductVersion] FROM [__EFMigrationsHistory] ORDER BY [MigrationId]; Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] SELECT [MigrationId], [ProductVersion] FROM [__EFMigrationsHistory] ORDER BY [MigrationId]; Closing data reader to 'Hartonomous' on server 'localhost'. A data reader for 'Hartonomous' on server 'localhost' is being disposed after spending 0ms reading results. Applying migration '20251110131553_InitialCreate'. Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] IF SCHEMA_ID(N'graph') IS NULL EXEC(N'CREATE SCHEMA [graph];'); Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] IF SCHEMA_ID(N'graph') IS NULL EXEC(N'CREATE SCHEMA [graph];'); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] IF SCHEMA_ID(N'provenance') IS NULL EXEC(N'CREATE SCHEMA [provenance];'); Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] IF SCHEMA_ID(N'provenance') IS NULL EXEC(N'CREATE SCHEMA [provenance];'); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [graph].[AtomGraphEdges] (     [EdgeId] bigint NOT NULL IDENTITY,     [EdgeType] nvarchar(50) NOT NULL,     [Weight] float NOT NULL DEFAULT 1.0E0,     [Metadata] nvarchar(max) NULL,     [ValidFrom] datetime2 NULL,     [ValidTo] datetime2 NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomGraphEdges] PRIMARY KEY ([EdgeId]),     CONSTRAINT [CK_AtomGraphEdges_EdgeType] CHECK ([EdgeType] IN ('DerivedFrom', 'ComponentOf', 'SimilarTo', 'Uses', 'InputTo', 'OutputFrom', 'BindsToConcept')),     CONSTRAINT [CK_AtomGraphEdges_Weight] CHECK ([Weight] >= 0.0 AND [Weight] <= 1.0) ); Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [graph].[AtomGraphEdges] (     [EdgeId] bigint NOT NULL IDENTITY,     [EdgeType] nvarchar(50) NOT NULL,     [Weight] float NOT NULL DEFAULT 1.0E0,     [Metadata] nvarchar(max) NULL,     [ValidFrom] datetime2 NULL,     [ValidTo] datetime2 NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomGraphEdges] PRIMARY KEY ([EdgeId]),     CONSTRAINT [CK_AtomGraphEdges_EdgeType] CHECK ([EdgeType] IN ('DerivedFrom', 'ComponentOf', 'SimilarTo', 'Uses', 'InputTo', 'OutputFrom', 'BindsToConcept')),     CONSTRAINT [CK_AtomGraphEdges_Weight] CHECK ([Weight] >= 0.0 AND [Weight] <= 1.0) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomicAudioSamples] (     [SampleHash] BINARY(32) NOT NULL,     [AmplitudeNormalized] REAL NOT NULL,     [AmplitudeInt16] SMALLINT NOT NULL,     [ReferenceCount] BIGINT NOT NULL DEFAULT CAST(0 AS BIGINT),     [FirstSeen] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastReferenced] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomicAudioSamples] PRIMARY KEY ([SampleHash]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomicAudioSamples] (     [SampleHash] BINARY(32) NOT NULL,     [AmplitudeNormalized] REAL NOT NULL,     [AmplitudeInt16] SMALLINT NOT NULL,     [ReferenceCount] BIGINT NOT NULL DEFAULT CAST(0 AS BIGINT),     [FirstSeen] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastReferenced] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomicAudioSamples] PRIMARY KEY ([SampleHash]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomicPixels] (     [PixelHash] BINARY(32) NOT NULL,     [R] TINYINT NOT NULL,     [G] TINYINT NOT NULL,     [B] TINYINT NOT NULL,     [A] TINYINT NOT NULL DEFAULT CAST(255 AS TINYINT),     [ColorPoint] GEOMETRY NULL,     [ReferenceCount] BIGINT NOT NULL DEFAULT CAST(0 AS BIGINT),     [FirstSeen] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastReferenced] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomicPixels] PRIMARY KEY ([PixelHash]) ); Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomicPixels] (     [PixelHash] BINARY(32) NOT NULL,     [R] TINYINT NOT NULL,     [G] TINYINT NOT NULL,     [B] TINYINT NOT NULL,     [A] TINYINT NOT NULL DEFAULT CAST(255 AS TINYINT),     [ColorPoint] GEOMETRY NULL,     [ReferenceCount] BIGINT NOT NULL DEFAULT CAST(0 AS BIGINT),     [FirstSeen] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastReferenced] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomicPixels] PRIMARY KEY ([PixelHash]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomicTextTokens] (     [TokenId] bigint NOT NULL IDENTITY,     [TokenHash] BINARY(32) NOT NULL,     [TokenText] NVARCHAR(200) NOT NULL,     [TokenLength] int NOT NULL,     [TokenEmbedding] VECTOR(768) NULL,     [EmbeddingModel] NVARCHAR(100) NULL,     [VocabId] int NULL,     [ReferenceCount] BIGINT NOT NULL DEFAULT CAST(0 AS BIGINT),     [FirstSeen] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastReferenced] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomicTextTokens] PRIMARY KEY ([TokenId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomicTextTokens] (     [TokenId] bigint NOT NULL IDENTITY,     [TokenHash] BINARY(32) NOT NULL,     [TokenText] NVARCHAR(200) NOT NULL,     [TokenLength] int NOT NULL,     [TokenEmbedding] VECTOR(768) NULL,     [EmbeddingModel] NVARCHAR(100) NULL,     [VocabId] int NULL,     [ReferenceCount] BIGINT NOT NULL DEFAULT CAST(0 AS BIGINT),     [FirstSeen] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastReferenced] DATETIME2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomicTextTokens] PRIMARY KEY ([TokenId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [Atoms] (     [AtomId] bigint NOT NULL IDENTITY,     [ContentHash] binary(32) NOT NULL,     [Modality] nvarchar(64) NOT NULL,     [Subtype] nvarchar(128) NULL,     [SourceUri] nvarchar(1024) NULL,     [SourceType] nvarchar(128) NULL,     [CanonicalText] nvarchar(max) NULL,     [PayloadLocator] nvarchar(1024) NULL,     [Metadata] JSON NULL,     [CreatedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedAt] datetime2 NULL,     [TenantId] int NOT NULL DEFAULT 0,     [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit),     [DeletedAt] datetime2 NULL,     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [ReferenceCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     [SpatialKey] geometry NULL,     [ComponentStream] varbinary(max) NULL,     CONSTRAINT [PK_Atoms] PRIMARY KEY ([AtomId]) ); Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [Atoms] (     [AtomId] bigint NOT NULL IDENTITY,     [ContentHash] binary(32) NOT NULL,     [Modality] nvarchar(64) NOT NULL,     [Subtype] nvarchar(128) NULL,     [SourceUri] nvarchar(1024) NULL,     [SourceType] nvarchar(128) NULL,     [CanonicalText] nvarchar(max) NULL,     [PayloadLocator] nvarchar(1024) NULL,     [Metadata] JSON NULL,     [CreatedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedAt] datetime2 NULL,     [TenantId] int NOT NULL DEFAULT 0,     [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit),     [DeletedAt] datetime2 NULL,     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [ReferenceCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     [SpatialKey] geometry NULL,     [ComponentStream] varbinary(max) NULL,     CONSTRAINT [PK_Atoms] PRIMARY KEY ([AtomId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[AudioData] (     [AudioId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [SampleRate] int NOT NULL,     [DurationMs] bigint NOT NULL,     [NumChannels] tinyint NOT NULL,     [Format] nvarchar(20) NULL,     [Spectrogram] GEOMETRY NULL,     [MelSpectrogram] GEOMETRY NULL,     [WaveformLeft] GEOMETRY NULL,     [WaveformRight] GEOMETRY NULL,     [GlobalEmbedding] VECTOR(768) NULL,     [GlobalEmbeddingDim] int NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AudioData] PRIMARY KEY ([AudioId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[AudioData] (     [AudioId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [SampleRate] int NOT NULL,     [DurationMs] bigint NOT NULL,     [NumChannels] tinyint NOT NULL,     [Format] nvarchar(20) NULL,     [Spectrogram] GEOMETRY NULL,     [MelSpectrogram] GEOMETRY NULL,     [WaveformLeft] GEOMETRY NULL,     [WaveformRight] GEOMETRY NULL,     [GlobalEmbedding] VECTOR(768) NULL,     [GlobalEmbeddingDim] int NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AudioData] PRIMARY KEY ([AudioId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AutonomousImprovementHistory] (     [ImprovementId] uniqueidentifier NOT NULL DEFAULT (NEWID()),     [AnalysisResults] nvarchar(max) NOT NULL,     [GeneratedCode] nvarchar(max) NOT NULL,     [TargetFile] nvarchar(512) NOT NULL,     [ChangeType] nvarchar(50) NOT NULL,     [RiskLevel] nvarchar(20) NOT NULL,     [EstimatedImpact] nvarchar(20) NULL,     [GitCommitHash] nvarchar(64) NULL,     [SuccessScore] decimal(5,4) NULL,     [TestsPassed] int NULL,     [TestsFailed] int NULL,     [PerformanceDelta] decimal(10,4) NULL,     [ErrorMessage] nvarchar(max) NULL,     [WasDeployed] bit NOT NULL,     [WasRolledBack] bit NOT NULL,     [StartedAt] datetime2 NOT NULL,     [CompletedAt] datetime2 NULL,     [RolledBackAt] datetime2 NULL,     CONSTRAINT [PK_AutonomousImprovementHistory] PRIMARY KEY ([ImprovementId]),     CONSTRAINT [CK_AutonomousImprovement_SuccessScore] CHECK ([SuccessScore] >= 0 AND [SuccessScore] <= 1) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AutonomousImprovementHistory] (     [ImprovementId] uniqueidentifier NOT NULL DEFAULT (NEWID()),     [AnalysisResults] nvarchar(max) NOT NULL,     [GeneratedCode] nvarchar(max) NOT NULL,     [TargetFile] nvarchar(512) NOT NULL,     [ChangeType] nvarchar(50) NOT NULL,     [RiskLevel] nvarchar(20) NOT NULL,     [EstimatedImpact] nvarchar(20) NULL,     [GitCommitHash] nvarchar(64) NULL,     [SuccessScore] decimal(5,4) NULL,     [TestsPassed] int NULL,     [TestsFailed] int NULL,     [PerformanceDelta] decimal(10,4) NULL,     [ErrorMessage] nvarchar(max) NULL,     [WasDeployed] bit NOT NULL,     [WasRolledBack] bit NOT NULL,     [StartedAt] datetime2 NOT NULL,     [CompletedAt] datetime2 NULL,     [RolledBackAt] datetime2 NULL,     CONSTRAINT [PK_AutonomousImprovementHistory] PRIMARY KEY ([ImprovementId]),     CONSTRAINT [CK_AutonomousImprovement_SuccessScore] CHECK ([SuccessScore] >= 0 AND [SuccessScore] <= 1) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [BillingRatePlans] (     [RatePlanId] uniqueidentifier NOT NULL DEFAULT (NEWSEQUENTIALID()),     [TenantId] nvarchar(64) NULL,     [PlanCode] nvarchar(64) NOT NULL DEFAULT N'',     [Name] nvarchar(128) NOT NULL DEFAULT N'',     [Description] nvarchar(256) NULL,     [DefaultRate] decimal(18,6) NOT NULL DEFAULT 0.01,     [MonthlyFee] decimal(18,2) NOT NULL DEFAULT 0.0,     [UnitPricePerDcu] decimal(18,6) NOT NULL DEFAULT 0.00008,     [IncludedPublicStorageGb] decimal(18,2) NOT NULL DEFAULT 0.0,     [IncludedPrivateStorageGb] decimal(18,2) NOT NULL DEFAULT 0.0,     [IncludedSeatCount] int NOT NULL DEFAULT 1,     [AllowsPrivateData] bit NOT NULL DEFAULT CAST(0 AS bit),     [CanQueryPublicCorpus] bit NOT NULL DEFAULT CAST(0 AS bit),     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_BillingRatePlans] PRIMARY KEY ([RatePlanId]) ); Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [BillingRatePlans] (     [RatePlanId] uniqueidentifier NOT NULL DEFAULT (NEWSEQUENTIALID()),     [TenantId] nvarchar(64) NULL,     [PlanCode] nvarchar(64) NOT NULL DEFAULT N'',     [Name] nvarchar(128) NOT NULL DEFAULT N'',     [Description] nvarchar(256) NULL,     [DefaultRate] decimal(18,6) NOT NULL DEFAULT 0.01,     [MonthlyFee] decimal(18,2) NOT NULL DEFAULT 0.0,     [UnitPricePerDcu] decimal(18,6) NOT NULL DEFAULT 0.00008,     [IncludedPublicStorageGb] decimal(18,2) NOT NULL DEFAULT 0.0,     [IncludedPrivateStorageGb] decimal(18,2) NOT NULL DEFAULT 0.0,     [IncludedSeatCount] int NOT NULL DEFAULT 1,     [AllowsPrivateData] bit NOT NULL DEFAULT CAST(0 AS bit),     [CanQueryPublicCorpus] bit NOT NULL DEFAULT CAST(0 AS bit),     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_BillingRatePlans] PRIMARY KEY ([RatePlanId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [BillingUsageLedger] (     [LedgerId] bigint NOT NULL IDENTITY,     [TenantId] nvarchar(128) NOT NULL,     [PrincipalId] nvarchar(256) NOT NULL,     [Operation] nvarchar(128) NOT NULL,     [MessageType] nvarchar(128) NULL,     [Handler] nvarchar(256) NULL,     [Units] decimal(18,6) NOT NULL,     [BaseRate] decimal(18,6) NOT NULL,     [Multiplier] decimal(18,6) NOT NULL DEFAULT 1.0,     [TotalCost] decimal(18,6) NOT NULL,     [MetadataJson] nvarchar(max) NULL,     [TimestampUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_BillingUsageLedger] PRIMARY KEY ([LedgerId]) ); Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [BillingUsageLedger] (     [LedgerId] bigint NOT NULL IDENTITY,     [TenantId] nvarchar(128) NOT NULL,     [PrincipalId] nvarchar(256) NOT NULL,     [Operation] nvarchar(128) NOT NULL,     [MessageType] nvarchar(128) NULL,     [Handler] nvarchar(256) NULL,     [Units] decimal(18,6) NOT NULL,     [BaseRate] decimal(18,6) NOT NULL,     [Multiplier] decimal(18,6) NOT NULL DEFAULT 1.0,     [TotalCost] decimal(18,6) NOT NULL,     [MetadataJson] nvarchar(max) NULL,     [TimestampUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_BillingUsageLedger] PRIMARY KEY ([LedgerId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[CodeAtoms] (     [CodeAtomId] bigint NOT NULL IDENTITY,     [Language] nvarchar(50) NOT NULL,     [Code] TEXT NOT NULL,     [Framework] nvarchar(200) NULL,     [Description] nvarchar(2000) NULL,     [CodeType] nvarchar(100) NULL,     [Embedding] geometry NULL,     [EmbeddingDimension] int NULL,     [TestResults] JSON NULL,     [QualityScore] real NULL,     [UsageCount] int NOT NULL DEFAULT 0,     [CodeHash] varbinary(32) NULL,     [SourceUri] nvarchar(2048) NULL,     [Tags] JSON NULL,     [CreatedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedAt] datetime2 NULL,     [CreatedBy] nvarchar(200) NULL,     CONSTRAINT [PK_CodeAtoms] PRIMARY KEY ([CodeAtomId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[CodeAtoms] (     [CodeAtomId] bigint NOT NULL IDENTITY,     [Language] nvarchar(50) NOT NULL,     [Code] TEXT NOT NULL,     [Framework] nvarchar(200) NULL,     [Description] nvarchar(2000) NULL,     [CodeType] nvarchar(100) NULL,     [Embedding] geometry NULL,     [EmbeddingDimension] int NULL,     [TestResults] JSON NULL,     [QualityScore] real NULL,     [UsageCount] int NOT NULL DEFAULT 0,     [CodeHash] varbinary(32) NULL,     [SourceUri] nvarchar(2048) NULL,     [Tags] JSON NULL,     [CreatedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedAt] datetime2 NULL,     [CreatedBy] nvarchar(200) NULL,     CONSTRAINT [PK_CodeAtoms] PRIMARY KEY ([CodeAtomId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [DeduplicationPolicies] (     [DeduplicationPolicyId] int NOT NULL IDENTITY,     [PolicyName] nvarchar(128) NOT NULL,     [SemanticThreshold] float NULL,     [SpatialThreshold] float NULL,     [Metadata] JSON NULL,     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [CreatedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_DeduplicationPolicies] PRIMARY KEY ([DeduplicationPolicyId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [DeduplicationPolicies] (     [DeduplicationPolicyId] int NOT NULL IDENTITY,     [PolicyName] nvarchar(128) NOT NULL,     [SemanticThreshold] float NULL,     [SpatialThreshold] float NULL,     [Metadata] JSON NULL,     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [CreatedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_DeduplicationPolicies] PRIMARY KEY ([DeduplicationPolicyId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[Images] (     [ImageId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [SourceUrl] nvarchar(1000) NULL,     [Width] int NOT NULL,     [Height] int NOT NULL,     [Channels] int NOT NULL,     [Format] nvarchar(20) NULL,     [PixelCloud] GEOMETRY NULL,     [EdgeMap] GEOMETRY NULL,     [ObjectRegions] GEOMETRY NULL,     [SaliencyRegions] GEOMETRY NULL,     [GlobalEmbedding] VECTOR(1536) NULL,     [GlobalEmbeddingDim] int NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     [LastAccessed] datetime2 NULL,     [AccessCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     CONSTRAINT [PK_Images] PRIMARY KEY ([ImageId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[Images] (     [ImageId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [SourceUrl] nvarchar(1000) NULL,     [Width] int NOT NULL,     [Height] int NOT NULL,     [Channels] int NOT NULL,     [Format] nvarchar(20) NULL,     [PixelCloud] GEOMETRY NULL,     [EdgeMap] GEOMETRY NULL,     [ObjectRegions] GEOMETRY NULL,     [SaliencyRegions] GEOMETRY NULL,     [GlobalEmbedding] VECTOR(1536) NULL,     [GlobalEmbeddingDim] int NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     [LastAccessed] datetime2 NULL,     [AccessCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     CONSTRAINT [PK_Images] PRIMARY KEY ([ImageId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [IngestionJobs] (     [IngestionJobId] bigint NOT NULL IDENTITY,     [PipelineName] nvarchar(256) NOT NULL,     [StartedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [CompletedAt] datetime2 NULL,     [Status] nvarchar(64) NULL,     [SourceUri] nvarchar(1024) NULL,     [Metadata] JSON NULL,     CONSTRAINT [PK_IngestionJobs] PRIMARY KEY ([IngestionJobId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [IngestionJobs] (     [IngestionJobId] bigint NOT NULL IDENTITY,     [PipelineName] nvarchar(256) NOT NULL,     [StartedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [CompletedAt] datetime2 NULL,     [Status] nvarchar(64) NULL,     [SourceUri] nvarchar(1024) NULL,     [Metadata] JSON NULL,     CONSTRAINT [PK_IngestionJobs] PRIMARY KEY ([IngestionJobId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [Models] (     [ModelId] int NOT NULL IDENTITY,     [ModelName] nvarchar(200) NOT NULL,     [ModelType] nvarchar(100) NOT NULL,     [Architecture] nvarchar(100) NULL,     [Config] JSON NULL,     [ParameterCount] bigint NULL,     [IngestionDate] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastUsed] datetime2 NULL,     [UsageCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     [AverageInferenceMs] float NULL,     CONSTRAINT [PK_Models] PRIMARY KEY ([ModelId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [Models] (     [ModelId] int NOT NULL IDENTITY,     [ModelName] nvarchar(200) NOT NULL,     [ModelType] nvarchar(100) NOT NULL,     [Architecture] nvarchar(100) NULL,     [Config] JSON NULL,     [ParameterCount] bigint NULL,     [IngestionDate] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [LastUsed] datetime2 NULL,     [UsageCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     [AverageInferenceMs] float NULL,     CONSTRAINT [PK_Models] PRIMARY KEY ([ModelId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [TenantSecurityPolicy] (     [PolicyId] int NOT NULL IDENTITY,     [TenantId] nvarchar(128) NOT NULL,     [PolicyName] nvarchar(100) NOT NULL,     [PolicyType] nvarchar(50) NOT NULL,     [PolicyRules] nvarchar(max) NOT NULL,     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [EffectiveFrom] datetime2 NULL,     [EffectiveTo] datetime2 NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedUtc] datetime2 NULL,     [CreatedBy] nvarchar(256) NULL,     [UpdatedBy] nvarchar(256) NULL,     CONSTRAINT [PK_TenantSecurityPolicy] PRIMARY KEY ([PolicyId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [TenantSecurityPolicy] (     [PolicyId] int NOT NULL IDENTITY,     [TenantId] nvarchar(128) NOT NULL,     [PolicyName] nvarchar(100) NOT NULL,     [PolicyType] nvarchar(50) NOT NULL,     [PolicyRules] nvarchar(max) NOT NULL,     [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),     [EffectiveFrom] datetime2 NULL,     [EffectiveTo] datetime2 NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedUtc] datetime2 NULL,     [CreatedBy] nvarchar(256) NULL,     [UpdatedBy] nvarchar(256) NULL,     CONSTRAINT [PK_TenantSecurityPolicy] PRIMARY KEY ([PolicyId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [TestResults] (     [TestResultId] bigint NOT NULL IDENTITY,     [TestName] nvarchar(200) NOT NULL,     [TestSuite] nvarchar(100) NOT NULL,     [TestStatus] nvarchar(50) NOT NULL,     [ExecutionTimeMs] float NULL,     [ErrorMessage] nvarchar(max) NULL,     [StackTrace] nvarchar(max) NULL,     [TestOutput] nvarchar(max) NULL,     [ExecutedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [Environment] nvarchar(100) NULL,     [TestCategory] nvarchar(50) NULL,     [MemoryUsageMB] float NULL,     [CpuUsagePercent] float NULL,     CONSTRAINT [PK_TestResults] PRIMARY KEY ([TestResultId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [TestResults] (     [TestResultId] bigint NOT NULL IDENTITY,     [TestName] nvarchar(200) NOT NULL,     [TestSuite] nvarchar(100) NOT NULL,     [TestStatus] nvarchar(50) NOT NULL,     [ExecutionTimeMs] float NULL,     [ErrorMessage] nvarchar(max) NULL,     [StackTrace] nvarchar(max) NULL,     [TestOutput] nvarchar(max) NULL,     [ExecutedAt] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [Environment] nvarchar(100) NULL,     [TestCategory] nvarchar(50) NULL,     [MemoryUsageMB] float NULL,     [CpuUsagePercent] float NULL,     CONSTRAINT [PK_TestResults] PRIMARY KEY ([TestResultId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[TextDocuments] (     [DocId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [SourceUrl] nvarchar(1000) NULL,     [RawText] nvarchar(max) NOT NULL,     [Language] nvarchar(10) NULL,     [CharCount] int NULL,     [WordCount] int NULL,     [GlobalEmbedding] VECTOR(768) NULL,     [GlobalEmbeddingDim] int NULL,     [TopicVector] VECTOR(100) NULL,     [SentimentScore] real NULL,     [Toxicity] real NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     [LastAccessed] datetime2 NULL,     [AccessCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     CONSTRAINT [PK_TextDocuments] PRIMARY KEY ([DocId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[TextDocuments] (     [DocId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [SourceUrl] nvarchar(1000) NULL,     [RawText] nvarchar(max) NOT NULL,     [Language] nvarchar(10) NULL,     [CharCount] int NULL,     [WordCount] int NULL,     [GlobalEmbedding] VECTOR(768) NULL,     [GlobalEmbeddingDim] int NULL,     [TopicVector] VECTOR(100) NULL,     [SentimentScore] real NULL,     [Toxicity] real NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     [LastAccessed] datetime2 NULL,     [AccessCount] bigint NOT NULL DEFAULT CAST(0 AS bigint),     CONSTRAINT [PK_TextDocuments] PRIMARY KEY ([DocId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[Videos] (     [VideoId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [Fps] int NOT NULL,     [DurationMs] bigint NOT NULL,     [ResolutionWidth] int NOT NULL,     [ResolutionHeight] int NOT NULL,     [NumFrames] bigint NOT NULL,     [Format] nvarchar(20) NULL,     [GlobalEmbedding] VECTOR(768) NULL,     [GlobalEmbeddingDim] int NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_Videos] PRIMARY KEY ([VideoId]) ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [dbo].[Videos] (     [VideoId] bigint NOT NULL IDENTITY,     [SourcePath] nvarchar(500) NULL,     [Fps] int NOT NULL,     [DurationMs] bigint NOT NULL,     [ResolutionWidth] int NOT NULL,     [ResolutionHeight] int NOT NULL,     [NumFrames] bigint NOT NULL,     [Format] nvarchar(20) NULL,     [GlobalEmbedding] VECTOR(768) NULL,     [GlobalEmbeddingDim] int NULL,     [Metadata] JSON NULL,     [IngestionDate] datetime2 NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_Videos] PRIMARY KEY ([VideoId]) ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [graph].[AtomGraphNodes] (     [NodeId] bigint NOT NULL IDENTITY,     [AtomId] bigint NOT NULL,     [NodeType] nvarchar(100) NOT NULL,     [NodeLabel] nvarchar(500) NULL,     [Properties] nvarchar(max) NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedUtc] datetime2 NULL,     CONSTRAINT [PK_AtomGraphNodes] PRIMARY KEY ([NodeId]),     CONSTRAINT [FK_AtomGraphNodes_Atoms_AtomId] FOREIGN KEY ([AtomId]) REFERENCES [Atoms] ([AtomId]) ON DELETE CASCADE ); Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [graph].[AtomGraphNodes] (     [NodeId] bigint NOT NULL IDENTITY,     [AtomId] bigint NOT NULL,     [NodeType] nvarchar(100) NOT NULL,     [NodeLabel] nvarchar(500) NULL,     [Properties] nvarchar(max) NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     [UpdatedUtc] datetime2 NULL,     CONSTRAINT [PK_AtomGraphNodes] PRIMARY KEY ([NodeId]),     CONSTRAINT [FK_AtomGraphNodes_Atoms_AtomId] FOREIGN KEY ([AtomId]) REFERENCES [Atoms] ([AtomId]) ON DELETE CASCADE ); Creating DbCommand for 'ExecuteNonQuery'. Created DbCommand for 'ExecuteNonQuery' (0ms). Initialized DbCommand for 'ExecuteNonQuery' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomPayloadStore] (     [PayloadId] bigint NOT NULL IDENTITY,     [RowGuid] uniqueidentifier ROWGUIDCOL NOT NULL DEFAULT (NEWSEQUENTIALID()),     [AtomId] bigint NOT NULL,     [ContentType] nvarchar(256) NOT NULL,     [ContentHash] binary(32) NOT NULL,     [SizeBytes] bigint NOT NULL,     [PayloadData] VARBINARY(MAX) FILESTREAM NOT NULL,     [CreatedBy] nvarchar(256) NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomPayloadStore] PRIMARY KEY ([PayloadId]),     CONSTRAINT [UX_AtomPayloadStore_RowGuid] UNIQUE ([RowGuid]),     CONSTRAINT [CK_AtomPayloadStore_ContentType] CHECK ([ContentType] LIKE '%/%'),     CONSTRAINT [CK_AtomPayloadStore_SizeBytes] CHECK ([SizeBytes] > 0),     CONSTRAINT [FK_AtomPayloadStore_Atoms_AtomId] FOREIGN KEY ([AtomId]) REFERENCES [Atoms] ([AtomId]) ON DELETE CASCADE ); Failed executing DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] CREATE TABLE [AtomPayloadStore] (     [PayloadId] bigint NOT NULL IDENTITY,     [RowGuid] uniqueidentifier ROWGUIDCOL NOT NULL DEFAULT (NEWSEQUENTIALID()),     [AtomId] bigint NOT NULL,     [ContentType] nvarchar(256) NOT NULL,     [ContentHash] binary(32) NOT NULL,     [SizeBytes] bigint NOT NULL,     [PayloadData] VARBINARY(MAX) FILESTREAM NOT NULL,     [CreatedBy] nvarchar(256) NULL,     [CreatedUtc] datetime2 NOT NULL DEFAULT (SYSUTCDATETIME()),     CONSTRAINT [PK_AtomPayloadStore] PRIMARY KEY ([PayloadId]),     CONSTRAINT [UX_AtomPayloadStore_RowGuid] UNIQUE ([RowGuid]),     CONSTRAINT [CK_AtomPayloadStore_ContentType] CHECK ([ContentType] LIKE '%/%'),     CONSTRAINT [CK_AtomPayloadStore_SizeBytes] CHECK ([SizeBytes] > 0),     CONSTRAINT [FK_AtomPayloadStore_Atoms_AtomId] FOREIGN KEY ([AtomId]) REFERENCES [Atoms] ([AtomId]) ON DELETE CASCADE ); Disposing transaction. Creating DbCommand for 'ExecuteScalar'. Created DbCommand for 'ExecuteScalar' (0ms). Initialized DbCommand for 'ExecuteScalar' (0ms). Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30'] DECLARE @result int; EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session'; SELECT @result Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30'] DECLARE @result int; EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session'; SELECT @result Closing connection to database 'Hartonomous' on server 'localhost'. Closed connection to database 'Hartonomous' on server 'localhost' (0ms). 'HartonomousDbContext' disposed. Disposing connection to database 'Hartonomous' on server 'localhost'. Disposed connection to database '' on server '' (0ms). Microsoft.Data.SqlClient.SqlException (0x80131904): Default FILESTREAM filegroup is not available in database 'Hartonomous'.    at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)    at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)    at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)    at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)    at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)    at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.Execute(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel)    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.<>c.<ExecuteNonQuery>b__3_1(DbContext _, ValueTuple`6 s)    at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)    at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel)    at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateImplementation(DbContext context, String targetMigration, MigrationExecutionState state, Boolean useTransaction)    at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.<>c.<Migrate>b__20_1(DbContext c, ValueTuple`4 s)    at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass28_0`2.<Execute>b__0(DbContext context, TState innerState)    at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementation[TState,TResult](Func`3 operation, Func`3 verifySucceeded, TState state)    at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)    at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)    at Microsoft.EntityFrameworkCore.Design.Internal.MigrationsOperations.UpdateDatabase(String targetMigration, String connectionString, String contextType)    at Microsoft.EntityFrameworkCore.Design.OperationExecutor.UpdateDatabaseImpl(String targetMigration, String connectionString, String contextType)    at Microsoft.EntityFrameworkCore.Design.OperationExecutor.UpdateDatabase.<>c__DisplayClass0_0.<.ctor>b__0()    at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.Execute(Action action) ClientConnectionId:f092fc7d-20c7-4c03-9017-9d99b007100b Error Number:1969,State:1,Class:16 Default FILESTREAM filegroup is not available in database 'Hartonomous'.",
      "Level": "Error",
      "Timestamp": "2025-11-10 07:16:05"
    },
    {
      "Message": "EF Core migration error: EF Core migration failed with exit code 1",
      "Level": "Error",
      "Timestamp": "2025-11-10 07:16:05"
    },
    {
      "Message": "ERROR: EF Core migration failed with exit code 1",
      "Level": "Error",
      "Timestamp": "2025-11-10 07:16:05"
    },
    {
      "Message": "Stack trace: at Deploy-EFCoreMigrations, D:\\Repositories\\Hartonomous\\scripts\\deploy-database-unified.ps1: line 441\r\nat <ScriptBlock>, D:\\Repositories\\Hartonomous\\scripts\\deploy-database-unified.ps1: line 752\r\nat <ScriptBlock>, <No file>: line 1",
      "Level": "Error",
      "Timestamp": "2025-11-10 07:16:05"
    }
  ]
}
